---
slug: codigo-fonte
title: Código Fonte
authors: [psousa, blequim76]
tags: [codigo-fonte]
---

### Código Fonte de Gestão do Módulo de Clientes

:::tip

Clicando no nome das Funções acede-se à página indicada

:::

**Código:**

***Importar as bibliotecas e relações com outros módulos:***
```
from io_terminal import imprime_lista
```
***Gravação dos dados:***
```
nome_ficheiro_lista_de_clientes = "lista_de_clientes.pk"
```
***Função: [Novo Cliente:](/docs/clientes/clientes_novo)***
```
def cria_novo_cliente():
    """
    Função para registar os dados de um novo cliente

    :return: dicionario com o novo cliente, 
    {"nome": <<nome>>, "nif": <<nif>>, ...}

    """
    
    nome = input("nome? ")
    nif = input("nif? ").upper()
    ...
    cliente = {"nome": nome,
               "nif": nif}

    return cliente
```

***Função: [Imprime Cliente:](/docs/clientes/clientes_imprime)***
```
def imprime_lista_de_clientes(lista_de_clientes):
    """Imprime a lista de Clientes"""

imprime_lista(cabecalho="Lista de Clientes", lista=lista_de_clientes)
```
---

### Código Fonte de Gestão do Módulo de Viaturas

:::tip

Clicando no nome das Funções acede-se à página indicada

:::


**Código**

***Importar as bibliotecas e relações com outros módulos:***
```
from io_terminal import imprime_lista
```
***Gravação dos dados:***
```
nome_ficheiro_lista_de_veiculos = "lista_de_veiculos.pk"
```

***Função: [Novo Veículo:](/docs/veiculos/veiculo_novo)***
```
def cria_novo_veiculo():
    """
    Pede ao utilizador para introduzir um novo veiculo

    :return: dicionario com um veiculo na forma
        {"marca": <<marca>>, "matricula": <<matricula>>, ...}

    """

    marca = input("marca? ")
    matricula = input("matricula? ").upper()


    veiculo = {"marca": marca,
               "matricula": matricula}

    return veiculo
```

***Função: [Imprime Veículo:](/docs/veiculos/veiculos_imprime)***
```
def imprime_lista_de_veiculos(lista_de_veiculos):
    """Imprime a Lista de Veículos"""

    imprime_lista(cabecalho="Lista de Veiculos", lista=lista_de_veiculos)
```
---

### Código Fonte de Gestão do Módulo de Facturação

:::tip

Clicando no nome das Funções acede-se à página indicada

:::

**Código**

***Importar as bibliotecas e relações com outros módulos:***
```
from datetime import date
from io_terminal import imprime_lista, pergunta_id
```
***Gravação dos dados:***
```
nome_ficheiro_lista_de_faturas = "lista_de_faturas.pk"
```

***Função: [Faturar Veículo Pronto:](/docs/faturacao/veiculos_prontos_faturar)***
```
def cria_nova_fatura(lista_de_clientes, lista_de_veiculos):
    """Pede ao utilizador para introduzir os dados de uma nova fatura

    :return: dicionario com uma fatura, na forma
        {"cliente": <<id_cliente>>, "veiculo": <<id_veiculo>>, "data": <<data>>, ...}
    """

    id_cliente = pergunta_id(questao="Qual o id do cliente?", lista=lista_de_clientes, mostra_lista=True)
    id_veiculo = pergunta_id(questao="Qual o id do veiculo?", lista=lista_de_veiculos, mostra_lista=True)

    # TODO: Pedir o resto dos dados da fatura, e não esquecer de os guardar no dicionario
    # ...

    fatura = {"cliente": id_cliente,
              "veiculo": id_veiculo,
              "data": date.today()}

    return fatura
```

***Função: [Imprime Factura:](/docs/faturacao/fatura_veiculo_pronto)***
```
def imprime_fatura(veiculos_prontos):
    """Imprime a Lista de Veículos prontos a faturar """

    imprime_lista(cabecalho="Lista de Veiculos", lista=lista_de_veiculos)
```


***Função: [Imprime Facturas:](/docs/faturacao/faturacao_imprime)***
```
def imprime_lista_de_veiculos(lista_de_veiculos):
    """Imprime a Lista de Veículos"""

    imprime_lista(cabecalho="Lista de Veiculos", lista=lista_de_veiculos)
```
---